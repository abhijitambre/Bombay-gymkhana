<style>
  .product-timeline .section h1 {
    font-family: "Gilroy-Light";
    font-size: 48px;
    font-weight: 400;
    line-height: 54px;
    text-align: center;
    margin-bottom: 60px;
    color: #fff;
  }
  .product-timeline .section h2 {
    font-size: 1.3rem;
  } /* TIMELINE
–––––––––––––––––––––––––––––––––––––––––––––––––– */
  .product-timeline .timeline {
    white-space: nowrap;
    overflow-x: hidden;
    position: relative;
  }
  .product-timeline .timeline ol {
    font-size: 0;
    width: 100vw;
    padding: 20px 0 240px;
    transition: all 1s;
    margin-left: 100px;
    position: relative;
    cursor: pointer;
  }
  .product-timeline .timeline ol:before {
    content: "";
    position: absolute;
    top: 20px;
    left: -3px;
    bottom: 0;
    width: 14px;
    height: 14px;
    transform: translateY(-50%);
    border-radius: 50%;
    background: #877cf4;
    z-index: 8;
    border: 1px solid #fff;
  }
  .product-timeline .timeline ol li {
    position: relative;
    display: inline-block;
    list-style-type: none;
    width: 300px;
    height: 2px;
    background: #fff;
  }
  .product-timeline .timeline ol li:last-child {
    width: 280px;
  }
  .product-timeline .timeline ol li:not(:first-child) {
    margin-left: 10px;
  }
  .product-timeline .timeline ol li:not(:last-child)::after {
    content: "";
    position: absolute;
    top: 50%;
    left: calc(100% + 0px);
    bottom: 0;
    width: 11px;
    height: 11px;
    transform: translateY(-50%);
    border-radius: 50%;
    background: #fff;
    border: 1px solid #fff;
  }
  .product-timeline .timeline ol li div {
    position: absolute;
    left: 55%;
    width: 280px;
    padding: 15px;
    font-size: 1rem;
    white-space: normal;
    color: #fff;
    background: #877cf4;
    border: 1px solid #dfd3ff;
    border-radius: 15px;
  }
  .product-timeline .timeline ol li div::before {
    content: "";
    position: absolute;
    top: 100%;
    left: 48%;
    width: 0;
    height: 0;
    border-style: solid;
  }
  .product-timeline .timeline ol li:nth-child(odd) div {
    top: calc(100% + 40px);
  }
  .product-timeline .timeline ol li:nth-child(odd) div::before {
    top: -6px;
    width: 12px;
    border: none;
    border-top: 1px solid #dfd3ff;
    border-right: 1px solid #dfd3ff;
    background: #877cf4;
    height: 12px;
    transform: rotate(314deg);
  }
  .product-timeline .timeline ol li:nth-child(even) div {
    top: calc(100% + 40px);
  }
  .product-timeline .timeline ol li:nth-child(even) div::before {
    top: -6px;
    width: 12px;
    border: none;
    border-top: 1px solid #dfd3ff;
    border-right: 1px solid #dfd3ff;
    background: #877cf4;
    height: 12px;
    transform: rotate(314deg);
  }
  .product-timeline .timeline time {
    display: block;
    font-family: "Gilroy-Medium";
    font-size: 20px;
    font-weight: 700;
    line-height: 22px;
    text-align: center;
  }
  .product-timeline .timeline p {
    font-family: "Gilroy-Medium";
    font-size: 20px;
    font-weight: 400;
    line-height: 22px;
    text-align: center;
  } /* TIMELINE ARROWS
–––––––––––––––––––––––––––––––––––––––––––––––––– */
  .product-timeline .timeline .arrows {
    display: none;
    justify-content: center;
    margin-bottom: 20px;
  }
  .product-timeline .timeline .arrows .arrow__prev {
    margin-right: 20px;
  }
  .product-timeline .timeline .disabled {
    opacity: 0.5;
  }
  .product-timeline .timeline .arrows img {
    width: 45px;
    height: 45px;
  } /* GENERAL MEDIA QUERIES
–––––––––––––––––––––––––––––––––––––––––––––––––– */
  @media screen and (max-width: 599px) {
    .product-timeline .timeline ol,
    .product-timeline .timeline ol li {
      width: auto;
    }
    .product-timeline .timeline ol {
      padding: 0;
      transform: none !important;
    }
    .product-timeline .timeline ol li {
      display: block;
      height: auto;
      background: transparent;
    }
    .product-timeline .timeline ol li:first-child {
      margin-top: 25px;
    }
    .product-timeline .timeline ol li:not(:first-child) {
      margin-left: auto;
    }
    .product-timeline .timeline ol li div {
      position: static;
      width: 94%;
      height: auto !important;
      margin: 0 auto 25px;
    }
    .product-timeline .timeline ol li:nth-child(odd) div {
      transform: none;
    }
    .product-timeline .timeline ol li:nth-child(odd) div::before,
    .product-timeline .timeline ol li:nth-child(even) div::before {
      left: 50%;
      top: 100%;
      transform: translateX(-50%);
      border: none;
      border-left: 1px solid white;
      height: 25px;
    }
    .product-timeline .timeline ol li:last-child,
    .product-timeline .timeline ol li:nth-last-child(2) div::before,
    .product-timeline .timeline .arrows {
      display: none;
    }
  }
  .product-timeline .cta-button {
    text-align: center;
  }
  .product-timeline .cta-button button {
    background-color: #00d9c6;
    border: none;
    font-family: Public Sans, sans-serif;
    font-size: 20px;
    font-weight: 700;
    line-height: 22px;
    padding: 16px 60px;
    text-align: center;
    border-radius: 15px;
    color: #101011;
  }
  @media (max-width: 520px) {
    .product-timeline .timeline ol:before {
      content: "";
      position: absolute;
      top: 8px;
      left: -17px;
      bottom: 0;
      width: 12px;
      height: 12px;
      transform: translateY(-50%);
      border-radius: 50%;
      background: #877cf4;
      z-index: 8;
      border: 1px solid #fff;
    }
    .product-timeline .timeline ol {
      font-size: 0;
      width: 100vw;
      padding: 20px 0 30px;
      transition: all 1s;
      margin-left: 34px;
      position: relative;
    }
    .product-timeline .timeline ol li:nth-child(even) div::before {
      top: -6px;
      width: 1px;
      border: none;
      border-top: 1px solid #dfd3ff;
      border-right: 1px solid #dfd3ff;
      background: #877cf4;
      height: 12px;
      transform: rotate(314deg);
    }
    .product-timeline .timeline ol li:nth-child(odd) div::before {
      top: -6px;
      width: 1px;
      border: none;
      border-top: 1px solid #dfd3ff;
      border-right: 1px solid #dfd3ff;
      background: #877cf4;
      height: 12px;
      transform: rotate(314deg);
    }
    .product-timeline .timeline ol li div {
      position: static;
      width: 80%;
      height: auto !important;
      margin: 0 10px 25px;
    }
    .product-timeline .timeline ol li:nth-child(odd) div::before,
    .product-timeline .timeline ol li:nth-child(even) div::before {
      left: -12px;
      top: -30%;
      transform: translateX(-50%);
      border: none;
      border-left: 1px solid white;
      height: 190px;
    }
    .product-timeline .timeline ol li:nth-child(odd) div::before,
    .product-timeline .timeline ol li:nth-child(even) div::before {
      left: -12px;
      top: -30%;
      transform: translateX(-50%);
      border: none;
      border-left: 1px solid white;
      height: 190px;
    }
    .product-timeline .timeline time {
      font-family: "Gilmer Bold", sans-serif;
      font-size: 16px;
      font-weight: 700;
      line-height: 18px;
      text-align: center;
    }
    .product-timeline .timeline p {
      font-family: "Gilroy-Regular", sans-serif;
      font-size: 16px;
      font-weight: 400;
      line-height: 18px;
      text-align: center;
    }
    .product-timeline .section h1 {
      font-family: "Gilroy-Light";
      font-size: 36px;
      font-weight: 400;
      line-height: 40px;
      text-align: center;
      padding: 0 40px;
    }
    .product-timeline .timeline ol li:not(:last-child)::after {
      content: "";
      position: absolute;
      top: 27%;
      left: -15px;
      bottom: 0;
      width: 7px;
      height: 7px;
      transform: translateY(-50%);
      border-radius: 50%;
      background: #fff;
      border: 1px solid #fff;
    }
    .product-timeline .timeline ol li:not(:last-child)::before {
      content: "";
      position: absolute;
      top: 20px;
      width: 10px;
      border: none;
      border-top: 1px solid #dfd3ff;
      border-right: 1px solid #dfd3ff;
      background: #877cf4;
      height: 10px;
      left: 5.4px;
      border-radius: 0px;
      transform: rotate(222deg);
      display: block !important;
      border-radius: 0 2px 0 0;
    }
    .product-timeline .cta-button button {
      background-color: #00d9c6;
      border: none;
      padding: 12px 60px;
      font-family: "Gilroy-Bold", sans-serif;
      font-size: 16px;
      font-weight: 600;
      line-height: 22px;
      text-align: center;
      border-radius: 15px;
    }
  }
</style>

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
  integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
  crossorigin="anonymous"
/>
<div
  class="section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}"
>
  <div class="product-timeline">
    <div
      class="sp-56 {% if section.settings.heading == blank %} no-heading{% endif %} section-{{ section.id }}-padding"
    >
      <div class="section intro">
        <div class="container">
          <h1>timeline</h1>
        </div>
      </div>

      <div class="timeline">
        <ol>
          <li>
            <div>
              <time></time>
              <p></p>
            </div>
          </li>
          <li>
            <div>
              <time></time>
              <p></p>
            </div>
          </li>
          <li></li>
        </ol>

        <div class="arrows">
          <button class="arrow arrow__prev disabled" disabled>
            <img
              src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/arrow_prev.svg"
              alt="prev timeline arrow"
            />
          </button>
          <button class="arrow arrow__next">
            <img
              src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/arrow_next.svg"
              alt="next timeline arrow"
            />
          </button>
        </div>

        <div class="cta-button">
          <button>► Get Started</button>
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.js"></script>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
  crossorigin="anonymous"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
<script>
  (function () {
    // VARIABLES
    const timeline = document.querySelector(".timeline ol"),
      elH = document.querySelectorAll(".timeline li > div"),
      arrows = document.querySelectorAll(".timeline .arrows .arrow"),
      arrowPrev = document.querySelector(".timeline .arrows .arrow__prev"),
      arrowNext = document.querySelector(".timeline .arrows .arrow__next"),
      firstItem = document.querySelector(".timeline li:first-child"),
      lastItem = document.querySelector(".timeline li:last-child"),
      xScrolling = 280,
      disabledClass = "disabled";

    // START
    window.addEventListener("load", init);

    function init() {
      setEqualHeights(elH);
      animateTl(xScrolling, arrows, timeline);
      setSwipeFn(timeline, arrowPrev, arrowNext);
      setKeyboardFn(arrowPrev, arrowNext);
    }

    // SET EQUAL HEIGHTS
    function setEqualHeights(el) {
      let counter = 0;
      for (let i = 0; i < el.length; i++) {
        const singleHeight = el[i].offsetHeight;

        if (counter < singleHeight) {
          counter = singleHeight;
        }
      }

      for (let i = 0; i < el.length; i++) {
        el[i].style.height = `${counter}px`;
      }
    }

    // CHECK IF AN ELEMENT IS IN VIEWPORT
    // http://stackoverflow.com/questions/123999/how-to-tell-if-a-dom-element-is-visible-in-the-current-viewport
    function isElementInViewport(el) {
      const rect = el.getBoundingClientRect();
      return (
        rect.top >= 0 &&
        rect.left >= 0 &&
        rect.bottom <=
          (window.innerHeight || document.documentElement.clientHeight) &&
        rect.right <=
          (window.innerWidth || document.documentElement.clientWidth)
      );
    }

    // SET STATE OF PREV/NEXT ARROWS
    function setBtnState(el, flag = true) {
      if (flag) {
        el.classList.add(disabledClass);
      } else {
        if (el.classList.contains(disabledClass)) {
          el.classList.remove(disabledClass);
        }
        el.disabled = false;
      }
    }

    // ANIMATE TIMELINE
    function animateTl(scrolling, el, tl) {
      let counter = 0;
      for (let i = 0; i < el.length; i++) {
        el[i].addEventListener("click", function () {
          if (!arrowPrev.disabled) {
            arrowPrev.disabled = true;
          }
          if (!arrowNext.disabled) {
            arrowNext.disabled = true;
          }
          const sign = this.classList.contains("arrow__prev") ? "" : "-";
          if (counter === 0) {
            tl.style.transform = `translateX(-${scrolling}px)`;
          } else {
            const tlStyle = getComputedStyle(tl);
            // add more browser prefixes if needed here
            const tlTransform =
              tlStyle.getPropertyValue("-webkit-transform") ||
              tlStyle.getPropertyValue("transform");
            const values =
              parseInt(tlTransform.split(",")[4]) +
              parseInt(`${sign}${scrolling}`);
            tl.style.transform = `translateX(${values}px)`;
          }

          setTimeout(() => {
            isElementInViewport(firstItem)
              ? setBtnState(arrowPrev)
              : setBtnState(arrowPrev, false);
            isElementInViewport(lastItem)
              ? setBtnState(arrowNext)
              : setBtnState(arrowNext, false);
          }, 1100);

          counter++;
        });
      }
    }

    // ADD SWIPE SUPPORT FOR TOUCH DEVICES
    function setSwipeFn(tl, prev, next) {
      const hammer = new Hammer(tl);
      hammer.on("swipeleft", () => next.click());
      hammer.on("swiperight", () => prev.click());
    }

    // ADD BASIC KEYBOARD FUNCTIONALITY
    function setKeyboardFn(prev, next) {
      document.addEventListener("keydown", (e) => {
        if (e.which === 37 || e.which === 39) {
          const timelineOfTop = timeline.offsetTop;
          const y = window.pageYOffset;
          if (timelineOfTop !== y) {
            window.scrollTo(0, timelineOfTop);
          }
          if (e.which === 37) {
            prev.click();
          } else if (e.which === 39) {
            next.click();
          }
        }
      });
    }
  })();
</script>
